"use strict";(self.webpackChunknasheed_library=self.webpackChunknasheed_library||[]).push([[785],{4785:(P,d,n)=>{n.r(d),n.d(d,{ArtistListModule:()=>c});var a=n(6895),x=n(8605),_=n(8996),t=n(4650),g=n(8836),u=n(1007),m=n(6017),h=n(7876),f=n(4850),A=n(6208),v=n(1403);function C(e,s){1&e&&t._UZ(0,"app-artist-item",5),2&e&&t.Q6J("artist",s.$implicit)}function Z(e,s){1&e&&t._UZ(0,"app-progress-spinner")}const O=function(){return{padding:"2em"}};class p{constructor(s,i){this.music_service=s,this.end_of_page_scroll_service=i,this.artists=[],this.current_page_number=1,this.last_page_reached=!1,this.loading=!1}ngOnInit(){this.get_artists(),this.end_of_page_scroll_subscription=this.end_of_page_scroll_service.end_of_page_scroll$.subscribe(s=>{this.get_artists()})}get_artists(){!this.last_page_reached&&!this.loading&&(this.loading=!0,this.music_service.get_artists(this.current_page_number).subscribe(s=>{null==s.next&&(this.last_page_reached=!0),this.loading=!1,this.set_next_page(),this.append_fetched_artists(s.results)}))}append_fetched_artists(s){this.artists=this.artists.concat(s)}set_next_page(){this.current_page_number++}ngOnDestroy(){this.end_of_page_scroll_subscription&&this.end_of_page_scroll_subscription.unsubscribe()}}p.\u0275fac=function(s){return new(s||p)(t.Y36(g.J),t.Y36(u.E))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-artist-list"]],decls:9,vars:4,consts:[[3,"ngStyle"],[1,"title"],[1,"artist-list-container"],[3,"artist",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"artist"]],template:function(s,i){1&s&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0)(2,"h2",1),t._uU(3," All Artists"),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"div",2),t.YNc(6,C,1,1,"app-artist-item",3),t.qZA(),t.YNc(7,Z,1,0,"app-progress-spinner",4),t.qZA(),t._UZ(8,"app-nav")),2&s&&(t.xp6(1),t.Q6J("ngStyle",t.DdM(3,O)),t.xp6(5),t.Q6J("ngForOf",i.artists),t.xp6(1),t.Q6J("ngIf",i.loading))},dependencies:[a.sg,a.O5,a.PC,m.r,h.G,f.d,A.E,v.O],styles:[".title[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.artist-list-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-top:10px}"]});var y=n(5899),b=n(8066);function M(e,s){if(1&e&&(t.TgZ(0,"div",6)(1,"div"),t._UZ(2,"img",7),t.qZA(),t.TgZ(3,"h3",8),t._uU(4),t.qZA()()),2&e){const i=t.oxw();t.xp6(2),t.s9C("src",i.artist.image,t.LSH),t.MGl("alt","Photo of ",i.artist.name,""),t.xp6(2),t.Oqu(i.artist.name)}}function T(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"div")(1,"app-track-item",9),t.NdJ("play",function(){const Y=t.CHM(i).$implicit,N=t.oxw();return t.KtG(N.on_play(Y))}),t.qZA(),t._UZ(2,"mat-divider"),t.qZA()}if(2&e){const i=s.$implicit;t.xp6(1),t.Q6J("track",i)}}function J(e,s){1&e&&t._UZ(0,"app-progress-spinner")}function k(e,s){if(1&e&&t._UZ(0,"audio-player",10),2&e){const i=t.oxw();t.Q6J("audioList",i.artist_tracks)}}const L=function(){return{padding:"2em"}};class l{constructor(s,i,r){this.music_service=s,this.activated_route=i,this.end_of_page_scroll_service=r,this.artist_tracks=[],this.tracks_page_number=1,this.last_tracks_page_reached=!1,this.loading=!0}ngOnInit(){this.activated_route.paramMap.subscribe(s=>{let i=s.get("artist_id");this.music_service.get_artist(i).subscribe(r=>{this.artist=r,this.get_artist_tracks()})}),this.end_of_page_scroll_subscription=this.end_of_page_scroll_service.end_of_page_scroll$.subscribe(s=>{this.artist&&this.get_artist_tracks()})}set_next_tracks_page_number(){this.tracks_page_number++}get_artist_tracks(){this.last_tracks_page_reached||(this.loading=!0,this.music_service.get_artist_tracks(this.artist,this.tracks_page_number).subscribe(s=>{null==s.next&&(this.last_tracks_page_reached=!0),this.loading=!1,this.set_next_tracks_page_number(),this.append_fetched_artist_tracks(s.results)}))}append_fetched_artist_tracks(s){this.artist_tracks=this.artist_tracks.concat(s)}ngOnDestroy(){this.end_of_page_scroll_subscription&&this.end_of_page_scroll_subscription.unsubscribe()}on_play(s){this.audio_player.selectedAudio=s,this.audio_player.play()}}l.\u0275fac=function(s){return new(s||l)(t.Y36(g.J),t.Y36(_.gz),t.Y36(u.E))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-artist-detail"]],viewQuery:function(s,i){if(1&s&&t.Gf(y.N,5),2&s){let r;t.iGM(r=t.CRH())&&(i.audio_player=r.first)}},decls:9,vars:6,consts:[[3,"ngStyle"],["class","artist-container",4,"ngIf"],[1,"title"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"audioList",4,"ngIf"],[1,"artist-container"],[1,"artist__image",3,"src","alt"],[1,"artist__name"],[3,"track","play"],[3,"audioList"]],template:function(s,i){1&s&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0),t.YNc(2,M,5,3,"div",1),t.TgZ(3,"h3",2),t._uU(4,"Tracks"),t.qZA(),t.YNc(5,T,3,1,"div",3),t.YNc(6,J,1,0,"app-progress-spinner",4),t.qZA(),t.YNc(7,k,1,1,"audio-player",5),t._UZ(8,"app-nav")),2&s&&(t.xp6(1),t.Q6J("ngStyle",t.DdM(5,L)),t.xp6(1),t.Q6J("ngIf",i.artist),t.xp6(3),t.Q6J("ngForOf",i.artist_tracks),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",0!=i.artist_tracks.length))},dependencies:[a.sg,a.O5,a.PC,m.r,h.G,f.d,b.q,y.N,v.O],styles:[".artist-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.artist__image[_ngcontent-%COMP%]{border-radius:50%;width:110px;height:110px}.artist__name[_ngcontent-%COMP%]{font-size:14px}.title[_ngcontent-%COMP%]{font-size:14px;font-weight:400}"]});const U=[{path:"",component:p},{path:":artist_id",component:l}];class o{}o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.Bz.forChild(U),_.Bz]});var D=n(2613),Q=n(1321),F=n(294),I=n(4805);class c{}c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[a.ez,x.Cl,F.I,I.x,D.m,Q.O,o]})}}]);