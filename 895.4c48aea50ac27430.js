"use strict";(self.webpackChunknasheed_library=self.webpackChunknasheed_library||[]).push([[895],{5895:(F,l,n)=>{n.r(l),n.d(l,{TrackListModule:()=>o});var c=n(6895),d=n(8996),u=n(5899),t=n(4650),g=n(8836),m=n(1007),f=n(6017),h=n(7876),_=n(4850),v=n(8066),y=n(1403);function k(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"div")(1,"app-track-item",5),t.NdJ("play",function(O){t.CHM(a);const Q=t.oxw();return t.KtG(Q.on_play(O))}),t.qZA(),t._UZ(2,"mat-divider"),t.qZA()}if(2&e){const a=s.$implicit;t.xp6(1),t.Q6J("track",a)}}function T(e,s){1&e&&t._UZ(0,"app-progress-spinner")}function L(e,s){if(1&e&&t._UZ(0,"audio-player",6),2&e){const a=t.oxw();t.Q6J("audioList",a.tracks)}}const C=function(){return{padding:"2em"}};class r{constructor(s,a){this.music_service=s,this.end_of_page_scroll_service=a,this.tracks=[],this.current_tracks_page_number=1,this.last_page_reached=!1,this.loading=!1}ngOnInit(){this.get_tracks(),this.end_of_page_scroll_subscription=this.end_of_page_scroll_service.end_of_page_scroll$.subscribe(s=>{this.get_tracks()})}get_tracks(){!this.last_page_reached&&!this.loading&&(this.loading=!0,this.music_service.get_tracks(this.current_tracks_page_number).subscribe(s=>{null==s.next&&(this.last_page_reached=!0),this.set_next_page(),this.loading=!1,this.append_fetched_tracks(s.results)}))}append_fetched_tracks(s){this.tracks=this.tracks.concat(s)}set_next_page(){this.current_tracks_page_number++}on_play(s){this.audio_player.selectedAudio=s,this.audio_player.play()}ngOnDestroy(){this.end_of_page_scroll_subscription&&this.end_of_page_scroll_subscription.unsubscribe()}}r.\u0275fac=function(s){return new(s||r)(t.Y36(g.J),t.Y36(m.E))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-track-list"]],viewQuery:function(s,a){if(1&s&&t.Gf(u.N,5),2&s){let p;t.iGM(p=t.CRH())&&(a.audio_player=p.first)}},decls:9,vars:5,consts:[[3,"ngStyle"],[1,"title"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"audioList",4,"ngIf"],[3,"track","play"],[3,"audioList"]],template:function(s,a){1&s&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0)(2,"h2",1),t._uU(3," All Tracks"),t.qZA(),t._UZ(4,"mat-divider"),t.YNc(5,k,3,1,"div",2),t.YNc(6,T,1,0,"app-progress-spinner",3),t.qZA(),t.YNc(7,L,1,1,"audio-player",4),t._UZ(8,"app-nav")),2&s&&(t.xp6(1),t.Q6J("ngStyle",t.DdM(4,C)),t.xp6(4),t.Q6J("ngForOf",a.tracks),t.xp6(1),t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",0!=a.tracks.length))},dependencies:[c.sg,c.O5,c.PC,f.r,h.G,_.d,v.q,u.N,y.O],styles:[".title[_ngcontent-%COMP%]{font-size:14px;font-weight:400}"]});const x=[{path:"",component:r}];class i{}i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.Bz.forChild(x),d.Bz]});var Z=n(2613),J=n(1321),M=n(294),A=n(4805);class o{}o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,M.I,A.x,Z.m,J.O,i]})}}]);